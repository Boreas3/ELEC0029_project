function [c, ceq] = complex_constraint(x)
global Y0 eta N P_inj Q_min Q_max
%SIMPLE_CONSTRAINT Nonlinear inequality constraints.
%x(1:28) = Voltage
%x(29:56) = Angle
%   Copyright 2005-2007 The MathWorks, Inc.

c = [sum(abs(Y0(1,:)).*(-sind(eta(1,:)).*x(1,1)^2 - x(1,1).*x(1,:)./N(1,:) .* sind(x(2,1) - x(2,:) - eta(1,:)))) - Q_max(1);
     sum(abs(Y0(2,:)).*(-sind(eta(2,:)).*x(1,2)^2 - x(1,2).*x(1,:)./N(2,:) .* sind(x(2,2) - x(2,:) - eta(2,:)))) - Q_max(2);
     sum(abs(Y0(3,:)).*(-sind(eta(3,:)).*x(1,3)^2 - x(1,3).*x(1,:)./N(3,:) .* sind(x(2,3) - x(2,:) - eta(3,:)))) - Q_max(3);
     sum(abs(Y0(4,:)).*(-sind(eta(4,:)).*x(1,4)^2 - x(1,4).*x(1,:)./N(4,:) .* sind(x(2,4) - x(2,:) - eta(4,:)))) - Q_max(4);
     sum(abs(Y0(5,:)).*(-sind(eta(5,:)).*x(1,5)^2 - x(1,5).*x(1,:)./N(5,:) .* sind(x(2,5) - x(2,:) - eta(5,:)))) - Q_max(5);
     sum(abs(Y0(6,:)).*(-sind(eta(6,:)).*x(1,6)^2 - x(1,6).*x(1,:)./N(6,:) .* sind(x(2,6) - x(2,:) - eta(6,:)))) - Q_max(6);
     Q_min(1) - sum(abs(Y0(1,:)).*(-sind(eta(1,:)).*x(1,1)^2 - x(1,1).*x(1,:)./N(1,:) .* sind(x(2,1) - x(2,:) - eta(1,:))));
     Q_min(2) - sum(abs(Y0(2,:)).*(-sind(eta(2,:)).*x(1,2)^2 - x(1,2).*x(1,:)./N(2,:) .* sind(x(2,2) - x(2,:) - eta(2,:))));

     Q_min(3) - sum(abs(Y0(3,:)).*(-sind(eta(3,:)).*x(1,3)^2 - x(1,3).*x(1,:)./N(3,:) .* sind(x(2,3) - x(2,:) - eta(3,:))));
     Q_min(4) - sum(abs(Y0(4,:)).*(-sind(eta(4,:)).*x(1,4)^2 - x(1,4).*x(1,:)./N(4,:) .* sind(x(2,4) - x(2,:) - eta(4,:))));
     Q_min(5) - sum(abs(Y0(5,:)).*(-sind(eta(5,:)).*x(1,5)^2 - x(1,5).*x(1,:)./N(5,:) .* sind(x(2,5) - x(2,:) - eta(5,:))));
     Q_min(6) - sum(abs(Y0(6,:)).*(-sind(eta(6,:)).*x(1,6)^2 - x(1,6).*x(1,:)./N(6,:) .* sind(x(2,6) - x(2,:) - eta(6,:))))];
% No nonlinear equality constraints:
ceq = [P_inj(1) - sum(abs(Y0(1,:)).*(cosd(eta(1,:)).*x(1,1)^2 - x(1,1).*x(1,:)./N(1,:) .* cosd(x(2,1) - x(2,:) - eta(1,:))));
       P_inj(2) - sum(abs(Y0(2,:)).*(cosd(eta(2,:)).*x(1,2)^2 - x(1,2).*x(1,:)./N(2,:) .* cosd(x(2,2) - x(2,:) - eta(2,:))));
       P_inj(3) - sum(abs(Y0(3,:)).*(cosd(eta(3,:)).*x(1,3)^2 - x(1,3).*x(1,:)./N(3,:) .* cosd(x(2,3) - x(2,:) - eta(3,:))));
       P_inj(4) - sum(abs(Y0(4,:)).*(cosd(eta(4,:)).*x(1,4)^2 - x(1,4).*x(1,:)./N(4,:) .* cosd(x(2,4) - x(2,:) - eta(4,:))));
       P_inj(5) - sum(abs(Y0(5,:)).*(cosd(eta(5,:)).*x(1,5)^2 - x(1,5).*x(1,:)./N(5,:) .* cosd(x(2,5) - x(2,:) - eta(5,:))));
       P_inj(6) - sum(abs(Y0(6,:)).*(cosd(eta(6,:)).*x(1,6)^2 - x(1,6).*x(1,:)./N(6,:) .* cosd(x(2,6) - x(2,:) - eta(6,:))));
       P_inj(7) - sum(abs(Y0(7,:)).*(cosd(eta(7,:)).*x(1,7)^2 - x(1,7).*x(1,:)./N(7,:) .* cosd(x(2,7) - x(2,:) - eta(7,:))));
       P_inj(8) - sum(abs(Y0(8,:)).*(cosd(eta(8,:)).*x(1,8)^2 - x(1,8).*x(1,:)./N(8,:) .* cosd(x(2,8) - x(2,:) - eta(8,:))));
       P_inj(9) - sum(abs(Y0(9,:)).*(cosd(eta(9,:)).*x(1,9)^2 - x(1,9).*x(1,:)./N(9,:) .* cosd(x(2,9) - x(2,:) - eta(9,:))));
       P_inj(10) - sum(abs(Y0(10,:)).*(cosd(eta(10,:)).*x(1,10)^2 - x(1,10).*x(1,:)./N(10,:) .* cosd(x(2,10) - x(2,:) - eta(10,:))));
       P_inj(11) - sum(abs(Y0(11,:)).*(cosd(eta(11,:)).*x(1,11)^2 - x(1,11).*x(1,:)./N(11,:) .* cosd(x(2,11) - x(2,:) - eta(11,:))));
       P_inj(12) - sum(abs(Y0(12,:)).*(cosd(eta(12,:)).*x(1,12)^2 - x(1,12).*x(1,:)./N(12,:) .* cosd(x(2,12) - x(2,:) - eta(12,:))));
       P_inj(13) - sum(abs(Y0(13,:)).*(cosd(eta(13,:)).*x(1,13)^2 - x(1,13).*x(1,:)./N(13,:) .* cosd(x(2,13) - x(2,:) - eta(13,:))));
       P_inj(14) - sum(abs(Y0(14,:)).*(cosd(eta(14,:)).*x(1,14)^2 - x(1,14).*x(1,:)./N(14,:) .* cosd(x(2,14) - x(2,:) - eta(14,:))));
       P_inj(15) - sum(abs(Y0(15,:)).*(cosd(eta(15,:)).*x(1,15)^2 - x(1,15).*x(1,:)./N(15,:) .* cosd(x(2,15) - x(2,:) - eta(15,:))));
       P_inj(16) - sum(abs(Y0(16,:)).*(cosd(eta(16,:)).*x(1,16)^2 - x(1,16).*x(1,:)./N(16,:) .* cosd(x(2,16) - x(2,:) - eta(16,:))));
       P_inj(17) - sum(abs(Y0(17,:)).*(cosd(eta(17,:)).*x(1,17)^2 - x(1,17).*x(1,:)./N(17,:) .* cosd(x(2,17) - x(2,:) - eta(17,:))));
       P_inj(18) - sum(abs(Y0(18,:)).*(cosd(eta(18,:)).*x(1,18)^2 - x(1,18).*x(1,:)./N(18,:) .* cosd(x(2,18) - x(2,:) - eta(18,:))));
       P_inj(19) - sum(abs(Y0(19,:)).*(cosd(eta(19,:)).*x(1,19)^2 - x(1,19).*x(1,:)./N(19,:) .* cosd(x(2,19) - x(2,:) - eta(19,:))));
       P_inj(20) - sum(abs(Y0(20,:)).*(cosd(eta(20,:)).*x(1,20)^2 - x(1,20).*x(1,:)./N(20,:) .* cosd(x(2,20) - x(2,:) - eta(20,:))));
       P_inj(21) - sum(abs(Y0(21,:)).*(cosd(eta(21,:)).*x(1,21)^2 - x(1,21).*x(1,:)./N(21,:) .* cosd(x(2,21) - x(2,:) - eta(21,:))));
       P_inj(22) - sum(abs(Y0(22,:)).*(cosd(eta(22,:)).*x(1,22)^2 - x(1,22).*x(1,:)./N(22,:) .* cosd(x(2,22) - x(2,:) - eta(22,:))));
       P_inj(23) - sum(abs(Y0(23,:)).*(cosd(eta(23,:)).*x(1,23)^2 - x(1,23).*x(1,:)./N(23,:) .* cosd(x(2,23) - x(2,:) - eta(23,:))));
       P_inj(24) - sum(abs(Y0(24,:)).*(cosd(eta(24,:)).*x(1,24)^2 - x(1,24).*x(1,:)./N(24,:) .* cosd(x(2,24) - x(2,:) - eta(24,:))));
       P_inj(25) - sum(abs(Y0(25,:)).*(cosd(eta(25,:)).*x(1,25)^2 - x(1,25).*x(1,:)./N(25,:) .* cosd(x(2,25) - x(2,:) - eta(25,:))));
       P_inj(26) - sum(abs(Y0(26,:)).*(cosd(eta(26,:)).*x(1,26)^2 - x(1,26).*x(1,:)./N(26,:) .* cosd(x(2,26) - x(2,:) - eta(26,:))));
       P_inj(27) - sum(abs(Y0(27,:)).*(cosd(eta(27,:)).*x(1,27)^2 - x(1,27).*x(1,:)./N(27,:) .* cosd(x(2,27) - x(2,:) - eta(27,:))));
       P_inj(28) - sum(abs(Y0(28,:)).*(cosd(eta(28,:)).*x(1,28)^2 - x(1,28).*x(1,:)./N(28,:) .* cosd(x(2,28) - x(2,:) - eta(28,:))));
       x(1,14).*380 - 395.2];
